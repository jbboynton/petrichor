<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro&display=swap" rel="stylesheet">
    <link rel="apple-touch-icon" sizes="180x180" href="images/favicons/apple-touch-icon.png?v=2">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicons/favicon-32x32.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicons/favicon-16x16.png?v=2">
    <link rel="manifest" href="images/favicons/site.webmanifest?v=2">
    <link rel="mask-icon" href="images/favicons/safari-pinned-tab.svg?v=2" color="#111216">
    <link rel="shortcut icon" href="images/favicons/favicon.ico?v=2">
    <meta name="msapplication-TileColor" content="#eeeff0">
    <meta name="msapplication-config" content="images/favicons/browserconfig.xml?v=2">
    <meta name="theme-color" content="#eeeff0">
    <meta name="robots" content="noindex">
    <title>Song Machine</title>
    <script>
      var articles = ["The", "Some", "One", "All"];
      var punctuationA = [","];
      var punctuationB = ["...", "!", "."];
      var punctuationC = [",", "...", "!", ":"];
      var conjunctions = [
        "Or", "But", "And", "Yet", "With", "Without"
      ];
      var nouns = [
        "Forest", "Grove", "Quiet", "Grace", "Child", "Despair", "Hollow",
        "Flight", "Emptiness", "Retreat", "Fear", "Hunger", "Yawl", "Salt",
        "Gesture", "Ransom", "Dark", "Wilds", "Port", "Cask", "Hunt", "Tides",
        "Shallows", "Flame", "Ancestors", "Truth", "Verity", "Horse", "Rider",
        "Trains", "Tracks", "Tree", "Hawk", "Mind", "Body", "Time", "Gem",
        "Bloom", "Titan", "Crane", "Pond", "Greatness", "Hearse", "Home",
        "Here", "Hand", "Hammer", "Life", "Shelter", "Hunter", "Prey", "Prayer"
      ];
      var adjectives = [
        "Low", "Steep", "Quiet", "Naked", "Wide", "Deadly", "Scant",
        "Northern", "Southern", "Great", "Terrible", "Tragic", "Silent", "Old",
        "Soft", "Weak", "Mighty", "Lost", "Wide-Eyed", "Bright", "Pale",
        "Fucked"
      ];
      var gerunds = [
        "Towering", "Blinding", "Watching", "Beckoning", "Rolling", "Growing",
        "Dying", "Breathing", "Creeping", "Leaking", "Smiling", "Dividing",
        "Calling", "Waiting", "Drinking", "Hoping", "Swelling", "Shifting",
        "Breaking", "Suffering", "Fucking", "Hurting", "Pulsing", "Reaching",
        "Undying", "Longing", "Binding", "Sending"
      ];
      var verbs = [
        "Lives", "Dies", "Calls", "Withers", "Greets", "Designs", "Reachs",
        "Pulls", "Delivers", "Praises", "Defies", "Protests", "Changes",
        "Steals", "Preaches", "Cares", "Gazes", "Rises", "Dawns", "Strains",
        "Wanes", "Waxes", "Loses", "Beckons", "Grows", "Arrests", "Limits",
        "Blesses", "Quenches", "Alights", "Illuminates", "Blinds", "Holds",
        "Raises", "Sees", "Feels", "Shines"
      ];
      var descriptions = [
        "dynamic", "haunting", "hurried", "rustic", "circular",
        "sophishticated", "brootal", "bouncy", "mechanical", "hopeful",
        "soulful", "unpleasant", "uncomfortable", "amarous", "heavy",
        "industrial", "listless", "wild", "empty", "old-fashioned", "soothing",
        "childish", "soaring", "scary", "contemplative",
        "like the natural world", "like war"
      ];
      var timeSignatures = [
        "3/4", "3/4", "3/4", "3/4", "3/4", "3/4", "3/4", "3/4", "3/4", "3/4",
        "4/4", "4/4", "4/4", "4/4", "4/4", "4/4", "4/4", "4/4", "4/4", "4/4",
        "5/8",
        "7/8"
      ];

      function randTempo() {
        return Math.floor(Math.random() * (175 - 60 + 1) + 60);
      }

      function rand(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
      }

      function songName() {
        return rand([
          rand(articles) + " " + rand(adjectives) + " " + rand(nouns),
          rand(nouns) + rand(punctuationC) + " " + rand(articles) + " " +
            rand(adjectives) + " " + rand(nouns),
          rand(adjectives) + rand(punctuationA) + " " + rand(adjectives) + " " +
            rand(nouns),
          rand(adjectives) + rand(punctuationA) + " " + rand(conjunctions) +
            " " + rand(adjectives),
          rand(nouns) + rand(punctuationB),
          rand(articles) + " " + rand(nouns) + " " + rand(conjunctions) + " " +
            rand(articles) + " " + rand(nouns),
          rand(nouns) + " and " + rand(nouns),
          rand(nouns) + ", " + rand(nouns) + ", and " + rand(nouns),
          rand(conjunctions) + " " + rand(gerunds) + " " + rand(nouns),
          rand(nouns),
          rand(gerunds),
          rand(adjectives) + ", " + rand(adjectives) + " " + rand(nouns),
          rand(nouns) + " " + rand(nouns),
          rand(nouns) + " " + rand(verbs),
          rand(verbs) + " and " + rand(verbs),
          rand(verbs) + rand(punctuationB) + " " + rand(verbs) +
            rand(punctuationB),
          rand(conjunctions) + " " + rand(gerunds) + " " + rand(nouns) + " " +
            rand(verbs),
          rand(gerunds) + " and " + rand(adjectives),
          rand(articles) + " " + rand(gerunds),
          "The " + rand(adjectives) + " " + rand(nouns),
          "The " + rand(gerunds),
          "The " + rand(adjectives),
          rand(adjectives) + " " + rand(nouns),
          rand(articles) + " " + rand(gerunds),
        ]);
      }

      function newSongIdea() {
        var name = songName();
        var time = rand(timeSignatures);
        var tempo = randTempo();
        var description = rand(descriptions);
        var idea = `Sketch an idea for a song called "${name}".<br>Time ` +
          `signature is ${time} and tempo is ${tempo}.<br>Make it sound ` +
          `${description}.`;

        var songIdeas = document.getElementById("song-ideas");

        for (var i = 0; i < songIdeas.children.length; i++) {
          songIdeas.children[i].classList.remove("newest");
          songIdeas.children[i].classList.remove("newest-fade");
        }

        songIdeas.innerHTML =
          `<section class="text-bg p-3 py-4 my-4 p-sm-4 round">
            <div class="d-flex flex-column">
              <div class="d-flex flex-column align-items-center justify-content-center">
                <p class="mb-0 text-center">
                  Sketch an idea for a song called "${name}". Time signature is
                  ${time} and tempo is ${tempo}. Make it sound ${description}.
                </p>
              </div>
            </div>
          </section>` + songIdeas.innerHTML;

        songIdeas.firstChild.classList.add("newest");
        setTimeout(function() {
          songIdeas.firstChild.classList.add("newest-fade");
        }, 3000);
      }
    </script>
  </head>
  <body>
    <div class="bg">
      <img src="images/background.jpg">
      <div class="bg-opacity">
        <div class="inner">
          <div class="h-100 d-flex flex-column align-items-center justify-content-center sections sections-resources">
            <section>
              <h1 class="text-lowercase text-monospace py-2">Song <span class="yeeter">â˜ž</span> Machine</h1>
            </section>
            <section class="resources p-0 py-4 mb-0 p-sm-4">
              <section class="d-flex flex-column">
                <div class="d-flex flex-column align-items-center justify-content-center mb-3">
                  <button class="btn btn-outline-light text-monospace" onclick="newSongIdea()">inspire me</button>
                </div>
              </section>
              <section id="song-ideas"></section>
            </section>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
